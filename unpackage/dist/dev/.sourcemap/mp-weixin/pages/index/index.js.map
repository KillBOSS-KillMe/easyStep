{"version":3,"sources":["webpack:///D:/workspan/easyStep/main.js","webpack:///D:/workspan/easyStep/pages/index/index.vue?2443","webpack:///D:/workspan/easyStep/pages/index/index.vue?51a0","webpack:///D:/workspan/easyStep/pages/index/index.vue?e562","webpack:///D:/workspan/easyStep/pages/index/index.vue?6938","webpack:///D:/workspan/easyStep/pages/index/index.vue","webpack:///D:/workspan/easyStep/pages/index/index.vue?b2c3","webpack:///D:/workspan/easyStep/pages/index/index.vue?3ea8"],"names":["createPage","Page","index","Index","data","title","authorizationButton","onLoad","onGetUserInfo","methods","show_loading","uni","getSetting","success","res","console","log","authSetting","$store","commit","state","getUserInfo","provider","userInfo","Object","assign","setUserInfo","collectionStr","$apply","login","loginRes","authResult","getRunData","wx","getWeRunData","encryptedData","iv","hide_loading"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=135fe5bf&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"workspan/easyStep/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=135fe5bf&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// 公共组件\n// import getUserInfoButton from \"@/components/getUserInfoButton.vue\";\nimport Index from \"./index-model.js\";\nvar index = new Index();\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttitle: 'Hello',\n\t\t\tauthorizationButton: null\n\t\t}\n\t},\n\t// components: {\n\t//   // 获取用户信息组件\n\t//   getUserInfoButton\n\t// },\n\tonLoad() {\n\t\tthis.onGetUserInfo()\n\t},\n\tmethods: {\n\t\t// 用户信息获取\n\t\tonGetUserInfo() {\n\t\t\t// 查看是否授权\n\t\t\tindex.show_loading('加载中...')\n\t\t\tuni.getSetting({\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tif (res.authSetting['scope.userInfo']) {\n\t\t\t\t\t\tthis.$store.commit('updateAuthorizationButtonData', false);\n\t\t\t\t\t\tthis.authorizationButton = this.$store.state.authorizationButton;\n\t\t\t\t\t\t// 已经授权，可以直接调用 getUserInfo 获取头像昵称\n\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t// 使用vuex获取原有的用户信息\n\t\t\t\t\t\t\t\tthis.userInfo = this.$store.state.userInfo;\n\t\t\t\t\t\t\t\t// 数据合并\n\t\t\t\t\t\t\t\tthis.userInfo = Object.assign(this.userInfo, res.userInfo)\n\t\t\t\t\t\t\t\t// 把数据更新到vuex  state\n\t\t\t\t\t\t\t\tthis.$store.commit('updateUserInfo', this.userInfo);\n\t\t\t\t\t\t\t\tconsole.log(this.userInfo)\n\t\t\t\t\t\t\t\t// 用户信息保存服务器\n\t\t\t\t\t\t\t\tthis.setUserInfo() \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.collectionStr = true\n\t\t\t\t\t\tthis.$apply()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 用户信息保存服务器\n\t\tsetUserInfo() {\n\t\t\tuni.login({\n\t\t\t  provider: 'weixin',\n\t\t\t  success: loginRes => {\n\t\t\t    console.log(loginRes.authResult);\n\t\t\t\t\t// 获取运动步数\n\t\t\t\t\tthis.getRunData()\n\t\t\t  }\n\t\t\t});\n\t\t},\n\t\t// 获取步数\n\t\tgetRunData() {\n\t\t\twx.getWeRunData({\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tlet encryptedData = res.encryptedData\n\t\t\t\t\tlet iv = res.iv\n\t\t\t\t\tindex.hide_loading()\n\t\t\t\t\t// wepy.login().then(res => {\n\t\t\t\t\t// \tlet code = res.code\n\t\t\t\t\t// \t// 提交步数(未解密)\n\t\t\t\t\t// \twx.request({\n\t\t\t\t\t// \t\turl: `${this.$parent.globalData.requestUrl}/api/getStepInformation`,\n\t\t\t\t\t// \t\tmethod: 'POST',\n\t\t\t\t\t// \t\theader: {\n\t\t\t\t\t// \t\t\tAuthrizeOpenId: this.$parent.globalData.openId\n\t\t\t\t\t// \t\t},\n\t\t\t\t\t// \t\tdata: {\n\t\t\t\t\t// \t\t\tcode: code,\n\t\t\t\t\t// \t\t\tencryptedData: encryptedData,\n\t\t\t\t\t// \t\t\tiv: iv\n\t\t\t\t\t// \t\t},\n\t\t\t\t\t// \t\tsuccess: data => {\n\t\t\t\t\t// \t\t\tif (data.data.success) {\n\t\t\t\t\t// \t\t\t\tthis.todayStep = data.data.data.today_step\n\t\t\t\t\t// \t\t\t\tthis.$parent.globalData.todayStep = this.todayStep\n\t\t\t\t\t// \t\t\t\tlet getStep = data.data.data.get_step\n\t\t\t\t\t// \t\t\t\tlet costStep = data.data.data.cost_step\n\t\t\t\t\t// \t\t\t\tthis.$parent.globalData.total = this.todayStep + costStep - getStep\n\t\t\t\t\t// \t\t\t\tconsole.log(this.$parent.globalData.allStep)\n\t\t\t\t\t// \t\t\t\tthis.$apply()\n\t\t\t\t\t// \t\t\t} else {\n\t\t\t\t\t// \t\t\t\twx.showModal({\n\t\t\t\t\t// \t\t\t\t\ttitle: '',\n\t\t\t\t\t// \t\t\t\t\tcontent: data.data.errmsg\n\t\t\t\t\t// \t\t\t\t})\n\t\t\t\t\t// \t\t\t}\n\t\t\t\t\t// \t\t}\n\t\t\t\t\t// \t})\n\t\t\t\t\t// })\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-2!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-2!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1587094336856\n      var cssReload = require(\"D:/soft/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}